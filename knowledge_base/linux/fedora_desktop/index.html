<!DOCTYPE html>
<html lang='en_US'>
  <head>
    <title>Fedora Desktop - Stelfox Athen&#xe6;um</title>

    <meta http-equiv='content-type' content='text/html; charset=utf-8' />
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1' />
    
    

    <link rel="alternate" type="application/atom+xml" title="Stelfox Athen&#xe6;um Feed" href="/atom.xml" />
    <link rel="canonical" href="https://stelfox.net" />
    <link rel="author" href="https://plus.google.com/+SamStelfox31337/"/>

    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Fedora Desktop" />
    <meta property="og:url" content="https://stelfox.net/knowledge_base/linux/fedora_desktop/" />
    <meta property="og:site_name" content="Stelfox Athen&#xe6;um" />
    <meta property="article:publisher" content="https://www.facebook.com/sstelfox" />
    <meta property="og:image" content="https://stelfox.net/static/avatar-01.jpg" />

    <meta name="go-import" content="stelfox.net git https://io.stelfox.net/" />

    <link rel='stylesheet' href="//fonts.googleapis.com/css?family=Open+Sans:300,400italic,400,600,700|Alegreya+SC:700" />
    <link rel="stylesheet" href="https://stelfox.net/css/3HrCRVwL3Gos2V4HzXAw/Om/nxs=.css" />

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
       (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
       })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-32188490-1', 'stelfox.net');
      ga('require', 'displayfeatures');
      ga('send', 'pageview');
    </script>
  </head>
  <body>
    <header class='masthead'>
      <div class='masthead-inner'>
        <h1><a href='/' title='Home'>Sam Stelfox</a></h1>
        <p class='lead'>Thoughts from a systems hacker and developer.</p>
        <nav>
          <ul>
            <li><a href="/about/" title="About">About</a></li>
            <li><a href="/blog/" title="Blog">Blog</a></li>
            <li><a href="/knowledge_base/" title="Knowledge Base">Knowledge Base</a></li>
            <li><form action="/search/" method="get"><input type="search" name="q" placeholder="Search" /></form></li>
          </ul>
        </nav>
        <footer class='colophon'>
          <p>&copy; 2014, All rights reserved.</p>
        </footer>
      </div>
    </header>
    <div class='content container'>
      <h1>Fedora Desktop</h1>

<p>This page just notes some of the steps broken out about setting up my Fedora
desktop/laptops (basically anything not acting as a server). It&#39;s a good idea
to reboot the system fresh after performing all of these.</p>

<p>Please note that I only use 64 bit machines now-a-days and everything below
reflects that. I think the only thing this actually effects is the adobe
install though.</p>

<p>This was last tested and was working with Fedora 17.</p>

<h2>Fast and hard updated version</h2>
<div class="CodeRay">
  <div class="code"><pre>sudo yum localinstall --nogpgcheck http://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-stable.noarch.rpm -y
sudo yum localinstall --nogpgcheck http://download1.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-stable.noarch.rpm -y
sudo yum update -y
sudo yum localinstall --nogpgcheck http://rpm.livna.org/livna-release.rpm -y
sudo yum install libdvdcss -y
sudo yum install vlc pidgin gstreamer-plugins-{bad,bad-free,bad-nonfree,good,ugly} tmux vim-enhanced git ruby bash-completion -y
sudo yum install gcc-c++ patch readline readline-devel zlib zlib-devel libyaml-devel libffi-devel openssl-devel make bzip2 autoconf automake libtool bison libxml2 libxml2-devel sqlite sqlite-devel libxslt libxslt-devel -y

sudo systemctl stop sshd.service
sudo systemctl disable sshd.service

ssh-keygen -b 4096 -t rsa -f $HOME/.ssh/id_rsa -q

git clone git://github.com/sstelfox/dotfiles.git $HOME/.dotfiles
$HOME/.dotfiles/install
</pre></div>
</div>

<p>Edit: $HOME/.dotfiles/system-specific/git-user-info.sh</p>
<div class="CodeRay">
  <div class="code"><pre>curl https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer | bash -s stable
</pre></div>
</div>

<p>Close and reopen your terminal</p>
<div class="CodeRay">
  <div class="code"><pre>echo -e &quot;bundler\npry&quot; &gt; ~/.rvm/gemsets/global.gems

rvm install ruby-2.0.0-p247
rvm use ruby-2.0.0-p247 --default
rvm gemset create global
rvm gemset use global

gem install bundler pry
</pre></div>
</div>

<p>Put the following information in <code>/etc/yum.repos.d/google-chome.repo</code></p>
<div class="CodeRay">
  <div class="code"><pre>[google-chrome]
name=google-chrome
baseurl=http://dl.google.com/linux/chrome/rpm/stable/x86_64
enabled=1
gpgcheck=1
</pre></div>
</div>
<div class="CodeRay">
  <div class="code"><pre>sudo yum install google-chrome-stable --nogpgcheck -y
</pre></div>
</div>

<p>Open Chrome and install a few plugins available at the following URLs:</p>

<ul>
<li><a href="http://redditenhancementsuite.com/download-chrome.html">http://redditenhancementsuite.com/download-chrome.html</a></li>
</ul>
<div class="CodeRay">
  <div class="code"><pre>sudo yum install levien-inconsolata-fonts freetype-freeworld -y

gsettings set org.gnome.settings-daemon.plugins.xsettings hinting slight
gsettings set org.gnome.settings-daemon.plugins.xsettings antialiasing rgba

echo 'Xft.lcdfilter: lcddefault' &gt;&gt; $HOME/.Xresources
</pre></div>
</div>

<p>Open up Terminal -&gt; Edit -&gt; Profile Preferences, and ensure the following
settings match:</p>

<ul>
<li>General -&gt; Don&#39;t use system fixed width font</li>
<li>General -&gt; Font -&gt; Inconsolata Medium -&gt; 10</li>
<li>General -&gt; Allow bold text</li>
<li>General -&gt; Disable Terminal bell</li>
<li>Title and Command -&gt; Run command as a login shell</li>
<li>Title and Command -&gt; Update login records when command is launched</li>
<li>Colors -&gt; Don&#39;t use colors from system theme</li>
<li>Built-in schemes: White on black</li>
<li>Built-in schemes: XTerm</li>
<li>Scrolling -&gt; Scrollback is unlimited</li>
</ul>
<div class="CodeRay">
  <div class="code"><pre>sudo yum install virt-manager kvm libvirtd libvirt libvirt-daemon-kvm \
  libvirt-daemon-lxc libvirt-daemon-qemu libvirt-sandbox -y

sudo systemctl enable libvirtd.service
sudo systemctl start libvirtd.service
</pre></div>
</div>

<h2>Update</h2>

<p>First things first update everything as soon as you are capable of it:</p>
<div class="CodeRay">
  <div class="code"><pre>sudo yum update -y
</pre></div>
</div>

<h2>Supporting TRIM for SSDs</h2>

<p>Add <code>noatime,discard</code> to every fstab entry of partitions that live on the hard
drive and disable the swap partition.</p>

<h2>RPM Fusion Repository</h2>

<p>The following command needs to be run as root and will install the
<a href="http://rpmfusion.org/">RPMFusion</a> free and non-free repositories.</p>
<div class="CodeRay">
  <div class="code"><pre>yum localinstall --nogpgcheck http://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-stable.noarch.rpm -y
yum localinstall --nogpgcheck http://download1.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-stable.noarch.rpm -y
yum update -y
</pre></div>
</div>

<h2>Livna Repository (Only needed for DVD playback)</h2>

<p>Livna was merged into RPM Fusion quite some time ago, but RPM Fusion didn&#39;t
want to have libdvdcss in their repository so Livna has lived on for this
reason alone. To install the repository and then the package you&#39;ll want to
execute the following commands as root:</p>
<div class="CodeRay">
  <div class="code"><pre>yum localinstall --nogpgcheck http://rpm.livna.org/livna-release.rpm -y
yum install libdvdcss -y
</pre></div>
</div>

<h2>Install Standard Package Set</h2>

<p>Requires RPM Fusion repository</p>
<div class="CodeRay">
  <div class="code"><pre>yum install vlc pidgin gstreamer-plugins-{bad,bad-free,bad-nonfree,good,ugly} \
  tmux vim-enhanced git ruby bash-completion -y
</pre></div>
</div>

<h2>Generate a new SSH key</h2>

<p>If this is a reformat ensure the old machine&#39;s keys are revoked.</p>
<div class="CodeRay">
  <div class="code"><pre>ssh-keygen -b 4096
</pre></div>
</div>

<h2>Setup My Dotfiles</h2>

<p>Run as local user.</p>
<div class="CodeRay">
  <div class="code"><pre>git clone git://github.com/sstelfox/dotfiles.git ~/.dotfiles
~/.dotfiles/install
</pre></div>
</div>

<p>Edit <code>~/.dotfiles/system-specific/git-user-info.sh</code> to reflect your email and
name.</p>

<h2>Install Flash</h2>

<p>Please note that as of <a href="../../applications/google_chrome/">Google Chrome</a> version 20, you do not need to
install the unsupported and unupdated version of Adobe flash. Google Chrome 20
for linux comes with a secure updated and sandboxed version of flash that is
fully compatible with Adobe flash. If you need flash for any other applications
then you&#39;ll need to install this.</p>
<div class="CodeRay">
  <div class="code"><pre>yum localinstall http://linuxdownload.adobe.com/linux/x86_64/adobe-release-x86_64-1.0-1.noarch.rpm -y
yum install flash-plugin nspluginwrapper -y
</pre></div>
</div>

<h2>Install ATI Video Drivers (If needed)</h2>

<p>Yeah these are pretty brutal... and not stable at all :( Lesson learned don&#39;t
buy ATI cards... This requires the RPM Fusion repository and DOES NOT WORK ON
FEDORA 17. The packages haven&#39;t been built for this kernel yet, and I&#39;ve found
a few posts recommending to stick with the stock radeon driver... Either way
I&#39;m leaving this here for later.</p>

<p>There are two different ways to handle these, the akmod version and the kmod
version. Seems like the difference is that akmod supposedly compiles the
drivers for your specific kernel but I think that&#39;s bull since that would
require ATI to release their drivers open source which isn&#39;t the case... Either
way akmod seems more stable to me so I go that route. If you want to use kmod
instead just s/akmod/kmod/g on all the packages installed here:</p>
<div class="CodeRay">
  <div class="code"><pre>yum install akmod-catalyst xorg-x11-drv-catalyst xorg-x11-drv-catalyst-libs -y
</pre></div>
</div>

<p>Then you&#39;ll want to setup the display&#39;s using the catalyst control center:</p>
<div class="CodeRay">
  <div class="code"><pre>sudo amdcccle
</pre></div>
</div>

<p>And finally reboot.</p>

<h2>Optional Post-Install Steps</h2>

<ul>
<li>Configure <a href="../../applications/google_chrome/">Google Chrome</a></li>
<li>Configure <a href="../../applications/firefox/">Firefox</a></li>
<li>Configure <a href="../../applications/google_earth/">Google Earth</a></li>
<li>Configure <a href="../../applications/pidgin/">Pidgin</a></li>
<li>Configure <a href="../../applications/thunderbird/">Thunderbird</a></li>
<li>Setup <a href="../arduino/">Arduino</a> Development Environment</li>
</ul>

    </div>
  </body>
</html>
