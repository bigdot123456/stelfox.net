<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Linux - Sam Stelfox&#39;s Thoughts &amp; Notes</title>
    <link>https://stelfox.net/tags/linux/</link>
    <description>Recent content in Linux - Sam Stelfox&#39;s Thoughts &amp; Notes</description>
    <language>en-US</language>
    <managingEditor>Sam Stelfox</managingEditor>
    <webMaster>Sam Stelfox</webMaster>
    <lastBuildDate>Thu, 19 Oct 2017 19:56:00 -0400</lastBuildDate><atom:link href="https://stelfox.net/tags/linux/atom.xml" rel="self" type="application/rss+xml" /><item>
      <title>Syslog-NG</title>
      <link>https://stelfox.net/notes/syslog-ng/</link>
      <pubDate>Thu, 19 Oct 2017 19:56:00 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/syslog-ng/</guid>
      <description>Syslog-NG is a fast, reliable, and secure syslog daemon that can do advanced processing and log centralization while maintaining a sane configuration file syntax. I&amp;rsquo;ve recently come to vastly prefer it over my previous long term favorite Rsyslog.
It&amp;rsquo;s important to note that when modifying the logs statements, they will be processed in order. This means log statements that finalize a message will never make it past that statement. This finalization behavior can be a great tool for optimizing the processing path of logs but can result in unexpected behavior if you don&amp;rsquo;t pay attention when re-ordering the statements.</description>
    </item><item>
      <title>Linux Audit Rule Paths</title>
      <link>https://stelfox.net/blog/2017/10/linux-audit-rule-paths/</link>
      <pubDate>Mon, 16 Oct 2017 23:20:20 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2017/10/linux-audit-rule-paths/</guid>
      <description>I encountered a little bit of confusion while rewriting my auditd rules which some Googling did not help me solve.
When monitoring a file or directory there are two forms the rules can take. They are effectively equivalent in their functionality. The simpler form is the following format:
-w /etc/shadow -p wa -w /boot -p wa -w /etc/dont_readme -p r  These three rules are all behaving slightly differently. The first will audit any writes or attribute changes to the shadow file.</description>
    </item><item>
      <title>Time</title>
      <link>https://stelfox.net/notes/time/</link>
      <pubDate>Fri, 13 Oct 2017 12:30:23 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/time/</guid>
      <description>This is a very basic operation on a Linux system, but I have to interact with it so rarely since I run either chronyd or ntpd on all of machines. Occasionally, I find a device that needs a helping hand.
On a device with a known good time (or approximate enough):
date +%s This will get you the current unix timestamp. On the target system needing updating as root (replacing &amp;lt;unix timestamp&amp;gt; with the results from the last command):</description>
    </item><item>
      <title>The Case of an Empty Executable</title>
      <link>https://stelfox.net/blog/2017/10/the-case-of-an-empty-executable/</link>
      <pubDate>Thu, 12 Oct 2017 23:09:01 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/blog/2017/10/the-case-of-an-empty-executable/</guid>
      <description>I recently came across a short article written about a decade ago. It was a curious thing already as it was hosted in a user&amp;rsquo;s home directory off a webserver with the standard &amp;lsquo;~&amp;rsquo; showing up in the URL. The important part that caught my eye was this:
 The &amp;ldquo;true&amp;rdquo; program does nothing; it merely exits with a zero exit status. This can be done with an empty file that&amp;rsquo;s marked executable, and that&amp;rsquo;s what it was in the earliest unix system libraries.</description>
    </item><item>
      <title>Auditd</title>
      <link>https://stelfox.net/notes/auditd/</link>
      <pubDate>Thu, 12 Oct 2017 15:33:21 -0400</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/auditd/</guid>
      <description>Auditd collects any configured syscall execution with critical security metadata associated with the event. This can help enrich other security tools such as AIDE to determine what user and process are responsible for the change.
For reliable operation the rules should be carefully tuned to your system. Tracking every write to disk will generate an unreasonable amount of events and depending on the configuration of the kernel&amp;rsquo;s audit subsystem, may trigger a kernel panic.</description>
    </item><item>
      <title>AIDE</title>
      <link>https://stelfox.net/notes/aide/</link>
      <pubDate>Wed, 11 Oct 2017 02:19:45 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/aide/</guid>
      <description>AIDE (Advanced Intrusion Detection Environment) is a file and directory integrity checker that compares the current hashes, permissions, and attributes of files directories against a known database built from the system.
This can be run periodically to detect manipulation of critical system files, though a motivated attacker with an appropriate level of permissions could modify this database or disable the check as long as the system is able to write to it.</description>
    </item><item>
      <title>Yubikey</title>
      <link>https://stelfox.net/notes/yubikey/</link>
      <pubDate>Tue, 10 Oct 2017 00:28:32 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/yubikey/</guid>
      <description>Smart Card NEO dnf install ykpers -y ykpersonalize -m82  Unplug and replug it back in and it should be usable as a smartcard.
NFC / HTTP Auth dnf install ykpers -y ykpersonalize -n https://api.stelfox.net/sessions/yknfc?t=  This will hit the API with a URL like: https://api.stelfox.net/session/yknfc?t=ccccccuddclhrkuvurcufviveulljleihvreukifegjh
The API can then return a token that for accessing additional functionality.
Resetting This will wipe all keys, user, and admin pins on the card.</description>
    </item><item>
      <title>GPG Process Notes</title>
      <link>https://stelfox.net/notes/gpg-process-notes/</link>
      <pubDate>Mon, 09 Oct 2017 23:35:34 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/gpg-process-notes/</guid>
      <description>I followed the TAILS setup guide to get a secure offline environment running to perform this generation task. The steps I took are documented in the tails document.
Initial Key Creation For simplicity I wanted to clear out the GnuPG configuration that starts out in place. Makes things a lot nicer later on.
rm -rf ~/.gnupg/*  I pulled in the .gnupg/gpg.conf from my dotfiles by hand.
And begin the key generation process</description>
    </item><item>
      <title>Disk Errors</title>
      <link>https://stelfox.net/notes/disk-errors/</link>
      <pubDate>Mon, 09 Oct 2017 23:05:43 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/disk-errors/</guid>
      <description>This is a weird file&amp;hellip; But while installing gentoo on a disk I started getting a weird error when printing the current partitions on the drive:
Warning: The driver descriptor says the physical block size is 2048 bytes, but Linux says it is 512 bytes.  The only thing I&amp;rsquo;ve been able to find anywhere about this is &amp;ldquo;a low-level device tool (like dd) wrote blocks at the wrong size directly onto the device&amp;rdquo;.</description>
    </item><item>
      <title>GRE Tunnel</title>
      <link>https://stelfox.net/notes/gre-tunnel/</link>
      <pubDate>Mon, 09 Oct 2017 22:14:23 +0000</pubDate>
      <author>Sam Stelfox</author>
      <guid>https://stelfox.net/notes/gre-tunnel/</guid>
      <description>GRE encapsulates all layer 2 traffic, but does so through an unencrypted tunnel. Sensitive traffic should exclusively go through a lower level encrypted tunnel like IPSec.
Firewall The following iptables need to be enabled to allow the GRE traffic to and from the system. This should be restricted to / from IP addresses as well.
-A INPUT -p 47 -j ACCEPT -A OUTPUT -p 47 -j ACCEPT  Manual Setup I&amp;rsquo;ve seen several setups on the internet that make some&amp;hellip; Odd choices.</description>
    </item></channel>
</rss>
